2025-03-10 10:48:42,846 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 10:48:42,846 [INFO] No week selected, using current week: 2025-W11
2025-03-10 10:48:42,846 [INFO] Fetching available weeks
2025-03-10 10:48:42,847 [INFO] Found 34 distinct dates with time entries
2025-03-10 10:48:42,847 [INFO] Processed 6 unique weeks
2025-03-10 10:48:42,847 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 10:48:42,847 [INFO] Found 2 time entries for week 2025-W11
2025-03-10 10:48:53,783 [ERROR] Exception on /job/details/4 [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 349, in job_details
    return render_template('job_details.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 146, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/job_details.html", line 30, in template
    {% break %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'break'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
2025-03-10 10:55:20,955 [ERROR] Exception on /job/details/4 [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 349, in job_details
    return render_template('job_details.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 146, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/job_details.html", line 30, in template
    {% break %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'break'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
2025-03-10 10:55:27,694 [INFO] Starting timer for job 4
2025-03-10 10:55:27,695 [INFO] Stopping all active timers
2025-03-10 10:55:31,003 [ERROR] Exception on /job/details/4 [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 349, in job_details
    return render_template('job_details.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 146, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/job_details.html", line 30, in template
    {% break %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'break'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
2025-03-10 10:58:33,235 [INFO] Root path: /home/Jobmanager
2025-03-10 10:58:33,235 [INFO] Current working directory: /home/Jobmanager
2025-03-10 10:58:33,235 [INFO] Instance path: /home/Jobmanager/instance
2025-03-10 10:58:33,235 [INFO] Creating full backup at: /home/Jobmanager/backups/jobmanager_backup_20250310_1058.zip
2025-03-10 10:58:33,235 [INFO] Adding file: /home/Jobmanager/run.py
2025-03-10 10:58:33,236 [INFO] Adding file: /home/Jobmanager/init_db.py
2025-03-10 10:58:33,236 [INFO] Adding file: /home/Jobmanager/gitback.sh
2025-03-10 10:58:33,236 [INFO] Adding to zip: app/db.py
2025-03-10 10:58:33,237 [INFO] Adding to zip: app/__init__.py
2025-03-10 10:58:33,237 [INFO] Adding to zip: app/schema.sql
2025-03-10 10:58:33,237 [INFO] Adding to zip: app/routes/image_routes.py
2025-03-10 10:58:33,238 [INFO] Adding to zip: app/routes/system_routes.py
2025-03-10 10:58:33,238 [INFO] Adding to zip: app/routes/__init__.py
2025-03-10 10:58:33,239 [INFO] Adding to zip: app/routes/customer_routes.py
2025-03-10 10:58:33,239 [INFO] Adding to zip: app/routes/job_routes.py
2025-03-10 10:58:33,240 [INFO] Adding to zip: app/routes/report_routes.py
2025-03-10 10:58:33,240 [INFO] Adding to zip: app/routes/timer_routes.py
2025-03-10 10:58:33,241 [INFO] Adding to zip: app/utils/date_helper.py
2025-03-10 10:58:33,241 [INFO] Adding to zip: app/utils/time_utils.py
2025-03-10 10:58:33,241 [INFO] Adding to zip: app/utils/job_utils.py
2025-03-10 10:58:33,242 [INFO] Adding to zip: app/utils/material_utils.py
2025-03-10 10:58:33,242 [INFO] Adding to zip: app/utils/timer_utils.py
2025-03-10 10:58:33,242 [INFO] Adding to zip: app/utils/__init__.py
2025-03-10 10:58:33,243 [INFO] Adding to zip: app/utils/invoice_utils.py
2025-03-10 10:58:33,243 [INFO] Adding to zip: app/utils/error_utils.py
2025-03-10 10:58:33,243 [INFO] Adding to zip: app/utils/image_utils.py
2025-03-10 10:58:33,244 [INFO] Adding to zip: app/templates/customer_form.html
2025-03-10 10:58:33,244 [INFO] Adding to zip: app/templates/quick_timer.html
2025-03-10 10:58:33,244 [INFO] Adding to zip: app/templates/system_settings.html
2025-03-10 10:58:33,245 [INFO] Adding to zip: app/templates/shared_images.html
2025-03-10 10:58:33,245 [INFO] Adding to zip: app/templates/weekly_summary.html
2025-03-10 10:58:33,246 [INFO] Adding to zip: app/templates/job_details.html
2025-03-10 10:58:33,247 [INFO] Adding to zip: app/templates/invoice.html
2025-03-10 10:58:33,247 [INFO] Adding to zip: app/templates/job_form.html
2025-03-10 10:58:33,247 [INFO] Adding to zip: app/templates/customer_list.html
2025-03-10 10:58:33,248 [INFO] Adding to zip: app/templates/500.html
2025-03-10 10:58:33,248 [INFO] Adding to zip: app/templates/base.html
2025-03-10 10:58:33,248 [INFO] Adding to zip: app/templates/job_list.html
2025-03-10 10:58:33,249 [INFO] Adding to zip: app/templates/404.html
2025-03-10 10:58:33,249 [INFO] Adding to zip: app/static/qr-quick_timer.svg
2025-03-10 10:58:33,250 [INFO] Adding to zip: app/static/css/styles.css
2025-03-10 10:58:33,251 [INFO] Full backup created at: /home/Jobmanager/backups/jobmanager_backup_20250310_1058.zip
2025-03-10 10:58:33,251 [INFO] Backup file exists: True
2025-03-10 10:59:47,312 [INFO] Starting timer for job 35
2025-03-10 10:59:47,312 [INFO] Stopping all active timers
2025-03-10 11:01:11,038 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 11:01:11,038 [INFO] No week selected, using current week: 2025-W11
2025-03-10 11:01:11,038 [INFO] Fetching available weeks
2025-03-10 11:01:11,038 [INFO] Found 34 distinct dates with time entries
2025-03-10 11:01:11,038 [INFO] Processed 6 unique weeks
2025-03-10 11:01:11,039 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 11:01:11,039 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 12:20:52,746 [INFO] Stopping timer for job 35
2025-03-10 12:21:49,131 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 12:21:49,131 [INFO] No week selected, using current week: 2025-W11
2025-03-10 12:21:49,131 [INFO] Fetching available weeks
2025-03-10 12:21:49,132 [INFO] Found 34 distinct dates with time entries
2025-03-10 12:21:49,132 [INFO] Processed 6 unique weeks
2025-03-10 12:21:49,132 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 12:21:49,132 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 12:22:05,898 [INFO] Weekly summary request - selected_week: 2025-W11, show_all: True
2025-03-10 12:22:05,898 [INFO] Fetching available weeks
2025-03-10 12:22:05,898 [INFO] Found 34 distinct dates with time entries
2025-03-10 12:22:05,899 [INFO] Processed 6 unique weeks
2025-03-10 12:22:05,899 [INFO] Final view settings - selected_week: 2025-W11, show_all: True
2025-03-10 12:22:05,900 [INFO] Generated summary for 6 weeks
2025-03-10 16:20:19,299 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:20:19,299 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:20:19,299 [INFO] Fetching available weeks
2025-03-10 16:20:19,299 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:20:19,300 [INFO] Processed 6 unique weeks
2025-03-10 16:20:19,300 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:20:19,300 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:20:23,292 [INFO] Weekly summary request - selected_week: 2025-W10, show_all: False
2025-03-10 16:20:23,292 [INFO] Fetching available weeks
2025-03-10 16:20:23,292 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:20:23,292 [INFO] Processed 6 unique weeks
2025-03-10 16:20:23,293 [INFO] Week selected from dropdown: 2025-W10, setting show_all=False
2025-03-10 16:20:23,293 [INFO] Final view settings - selected_week: 2025-W10, show_all: False
2025-03-10 16:20:23,293 [INFO] Found 23 time entries for week 2025-W10
2025-03-10 16:21:15,433 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:21:15,433 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:21:15,433 [INFO] Fetching available weeks
2025-03-10 16:21:15,433 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:21:15,434 [INFO] Processed 6 unique weeks
2025-03-10 16:21:15,434 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:21:15,434 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:21:20,066 [INFO] Weekly summary request - selected_week: 2025-W10, show_all: False
2025-03-10 16:21:20,066 [INFO] Fetching available weeks
2025-03-10 16:21:20,066 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:21:20,066 [INFO] Processed 6 unique weeks
2025-03-10 16:21:20,066 [INFO] Week selected from dropdown: 2025-W10, setting show_all=False
2025-03-10 16:21:20,066 [INFO] Final view settings - selected_week: 2025-W10, show_all: False
2025-03-10 16:21:20,067 [INFO] Found 23 time entries for week 2025-W10
2025-03-10 16:22:27,208 [ERROR] Exception on /job/40/invoice [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 465, in invoice
    return render_template('invoice.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 147, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 130, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/invoice.html", line 2, in top-level template code
    {% extends "base.html" %}
  File "/home/Jobmanager/app/templates/base.html", line 42, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/templates/invoice.html", line 86, in block 'content'
    <td>€{{ "%.2f"|format(job.base_rate) }}</td>
    ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/filters.py", line 1021, in do_format
    return soft_str(value) % (kwargs or args)
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~
TypeError: must be real number, not NoneType
2025-03-10 16:22:29,575 [ERROR] Exception on /job/40/invoice [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 465, in invoice
    return render_template('invoice.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 147, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 130, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/invoice.html", line 2, in top-level template code
    {% extends "base.html" %}
  File "/home/Jobmanager/app/templates/base.html", line 42, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/templates/invoice.html", line 86, in block 'content'
    <td>€{{ "%.2f"|format(job.base_rate) }}</td>
    ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/filters.py", line 1021, in do_format
    return soft_str(value) % (kwargs or args)
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~
TypeError: must be real number, not NoneType
2025-03-10 16:22:50,376 [ERROR] Exception on /job/40/invoice [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 465, in invoice
    return render_template('invoice.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 147, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 130, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/invoice.html", line 2, in top-level template code
    {% extends "base.html" %}
  File "/home/Jobmanager/app/templates/base.html", line 42, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/templates/invoice.html", line 86, in block 'content'
    <td>€{{ "%.2f"|format(job.base_rate) }}</td>
    ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/filters.py", line 1021, in do_format
    return soft_str(value) % (kwargs or args)
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~
TypeError: must be real number, not NoneType
2025-03-10 16:22:57,687 [ERROR] Exception on /job/40/invoice [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 465, in invoice
    return render_template('invoice.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 147, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 130, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/invoice.html", line 2, in top-level template code
    {% extends "base.html" %}
  File "/home/Jobmanager/app/templates/base.html", line 42, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/templates/invoice.html", line 86, in block 'content'
    <td>€{{ "%.2f"|format(job.base_rate) }}</td>
    ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/filters.py", line 1021, in do_format
    return soft_str(value) % (kwargs or args)
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~
TypeError: must be real number, not NoneType
2025-03-10 16:22:59,799 [ERROR] Exception on /job/40/invoice [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 465, in invoice
    return render_template('invoice.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 147, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 130, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/invoice.html", line 2, in top-level template code
    {% extends "base.html" %}
  File "/home/Jobmanager/app/templates/base.html", line 42, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/templates/invoice.html", line 86, in block 'content'
    <td>€{{ "%.2f"|format(job.base_rate) }}</td>
    ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/filters.py", line 1021, in do_format
    return soft_str(value) % (kwargs or args)
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~
TypeError: must be real number, not NoneType
2025-03-10 16:23:54,799 [INFO] Root path: /home/Jobmanager
2025-03-10 16:23:54,799 [INFO] Current working directory: /home/Jobmanager
2025-03-10 16:23:54,799 [INFO] Instance path: /home/Jobmanager/instance
2025-03-10 16:23:54,799 [INFO] Creating full backup at: /home/Jobmanager/backups/jobmanager_backup_20250310_1623.zip
2025-03-10 16:23:54,799 [INFO] Adding file: /home/Jobmanager/run.py
2025-03-10 16:23:54,800 [INFO] Adding file: /home/Jobmanager/init_db.py
2025-03-10 16:23:54,800 [INFO] Adding file: /home/Jobmanager/gitback.sh
2025-03-10 16:23:54,800 [INFO] Adding to zip: app/db.py
2025-03-10 16:23:54,800 [INFO] Adding to zip: app/__init__.py
2025-03-10 16:23:54,801 [INFO] Adding to zip: app/schema.sql
2025-03-10 16:23:54,801 [INFO] Adding to zip: app/routes/image_routes.py
2025-03-10 16:23:54,802 [INFO] Adding to zip: app/routes/system_routes.py
2025-03-10 16:23:54,802 [INFO] Adding to zip: app/routes/__init__.py
2025-03-10 16:23:54,802 [INFO] Adding to zip: app/routes/customer_routes.py
2025-03-10 16:23:54,802 [INFO] Adding to zip: app/routes/job_routes.py
2025-03-10 16:23:54,803 [INFO] Adding to zip: app/routes/report_routes.py
2025-03-10 16:23:54,804 [INFO] Adding to zip: app/routes/timer_routes.py
2025-03-10 16:23:54,804 [INFO] Adding to zip: app/utils/date_helper.py
2025-03-10 16:23:54,804 [INFO] Adding to zip: app/utils/time_utils.py
2025-03-10 16:23:54,804 [INFO] Adding to zip: app/utils/job_utils.py
2025-03-10 16:23:54,805 [INFO] Adding to zip: app/utils/material_utils.py
2025-03-10 16:23:54,805 [INFO] Adding to zip: app/utils/timer_utils.py
2025-03-10 16:23:54,805 [INFO] Adding to zip: app/utils/__init__.py
2025-03-10 16:23:54,805 [INFO] Adding to zip: app/utils/invoice_utils.py
2025-03-10 16:23:54,806 [INFO] Adding to zip: app/utils/error_utils.py
2025-03-10 16:23:54,806 [INFO] Adding to zip: app/utils/image_utils.py
2025-03-10 16:23:54,806 [INFO] Adding to zip: app/templates/customer_form.html
2025-03-10 16:23:54,806 [INFO] Adding to zip: app/templates/quick_timer.html
2025-03-10 16:23:54,807 [INFO] Adding to zip: app/templates/system_settings.html
2025-03-10 16:23:54,807 [INFO] Adding to zip: app/templates/shared_images.html
2025-03-10 16:23:54,807 [INFO] Adding to zip: app/templates/weekly_summary.html
2025-03-10 16:23:54,808 [INFO] Adding to zip: app/templates/job_details.html
2025-03-10 16:23:54,809 [INFO] Adding to zip: app/templates/invoice.html
2025-03-10 16:23:54,809 [INFO] Adding to zip: app/templates/job_form.html
2025-03-10 16:23:54,809 [INFO] Adding to zip: app/templates/customer_list.html
2025-03-10 16:23:54,810 [INFO] Adding to zip: app/templates/500.html
2025-03-10 16:23:54,810 [INFO] Adding to zip: app/templates/base.html
2025-03-10 16:23:54,810 [INFO] Adding to zip: app/templates/job_list.html
2025-03-10 16:23:54,811 [INFO] Adding to zip: app/templates/404.html
2025-03-10 16:23:54,811 [INFO] Adding to zip: app/static/qr-quick_timer.svg
2025-03-10 16:23:54,811 [INFO] Adding to zip: app/static/css/styles.css
2025-03-10 16:23:54,812 [INFO] Full backup created at: /home/Jobmanager/backups/jobmanager_backup_20250310_1623.zip
2025-03-10 16:23:54,812 [INFO] Backup file exists: True
2025-03-10 16:26:45,139 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:26:45,139 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:26:45,139 [INFO] Fetching available weeks
2025-03-10 16:26:45,140 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:26:45,140 [INFO] Processed 6 unique weeks
2025-03-10 16:26:45,140 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:26:45,140 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:27:18,177 [INFO] Weekly summary request - selected_week: 2025-W11, show_all: True
2025-03-10 16:27:18,177 [INFO] Fetching available weeks
2025-03-10 16:27:18,177 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:27:18,178 [INFO] Processed 6 unique weeks
2025-03-10 16:27:18,178 [INFO] Final view settings - selected_week: 2025-W11, show_all: True
2025-03-10 16:27:18,179 [INFO] Generated summary for 6 weeks
2025-03-10 16:35:49,549 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:35:49,549 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:35:49,549 [INFO] Fetching available weeks
2025-03-10 16:35:49,550 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:35:49,550 [INFO] Processed 6 unique weeks
2025-03-10 16:35:49,550 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:35:49,551 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:39:23,100 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:39:23,100 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:39:23,100 [INFO] Fetching available weeks
2025-03-10 16:39:23,100 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:39:23,101 [INFO] Processed 6 unique weeks
2025-03-10 16:39:23,101 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:39:23,101 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:39:24,895 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:39:24,895 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:39:24,895 [INFO] Fetching available weeks
2025-03-10 16:39:24,895 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:39:24,895 [INFO] Processed 6 unique weeks
2025-03-10 16:39:24,895 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:39:24,896 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:39:57,978 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:39:57,979 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:39:57,979 [INFO] Fetching available weeks
2025-03-10 16:39:57,979 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:39:57,980 [INFO] Processed 6 unique weeks
2025-03-10 16:39:57,980 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:39:57,980 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:40:35,920 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:40:35,920 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:40:35,920 [INFO] Fetching available weeks
2025-03-10 16:40:35,920 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:40:35,921 [INFO] Processed 6 unique weeks
2025-03-10 16:40:35,921 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:40:35,921 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:41:14,399 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:41:14,399 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:41:14,399 [INFO] Fetching available weeks
2025-03-10 16:41:14,400 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:41:14,400 [INFO] Processed 6 unique weeks
2025-03-10 16:41:14,400 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:41:14,401 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:42:01,254 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:42:01,254 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:42:01,254 [INFO] Fetching available weeks
2025-03-10 16:42:01,255 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:42:01,255 [INFO] Processed 6 unique weeks
2025-03-10 16:42:01,255 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:42:01,255 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:42:02,780 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:42:02,807 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:42:02,807 [INFO] Fetching available weeks
2025-03-10 16:42:02,808 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:42:02,808 [INFO] Processed 6 unique weeks
2025-03-10 16:42:02,809 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:42:02,809 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:42:49,738 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 16:42:49,738 [INFO] No week selected, using current week: 2025-W11
2025-03-10 16:42:49,738 [INFO] Fetching available weeks
2025-03-10 16:42:49,739 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:42:49,739 [INFO] Processed 6 unique weeks
2025-03-10 16:42:49,739 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 16:42:49,740 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 16:44:54,619 [INFO] Weekly summary request - selected_week: 2025-W10, show_all: False
2025-03-10 16:44:54,619 [INFO] Fetching available weeks
2025-03-10 16:44:54,620 [INFO] Found 34 distinct dates with time entries
2025-03-10 16:44:54,620 [INFO] Processed 6 unique weeks
2025-03-10 16:44:54,620 [INFO] Week selected from dropdown: 2025-W10, setting show_all=False
2025-03-10 16:44:54,620 [INFO] Final view settings - selected_week: 2025-W10, show_all: False
2025-03-10 16:44:54,621 [INFO] Found 23 time entries for week 2025-W10
2025-03-10 16:45:26,677 [ERROR] Exception on /job/40/invoice [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 465, in invoice
    return render_template('invoice.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 147, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 130, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/invoice.html", line 2, in top-level template code
    {% extends "base.html" %}
  File "/home/Jobmanager/app/templates/base.html", line 42, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/templates/invoice.html", line 86, in block 'content'
    <td>€{{ "%.2f"|format(job.base_rate) }}</td>
    ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/filters.py", line 1021, in do_format
    return soft_str(value) % (kwargs or args)
           ~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~
TypeError: must be real number, not NoneType
2025-03-10 16:53:25,054 [INFO] Root path: /home/Jobmanager
2025-03-10 16:53:25,054 [INFO] Current working directory: /home/Jobmanager
2025-03-10 16:53:25,054 [INFO] Instance path: /home/Jobmanager/instance
2025-03-10 16:53:25,054 [INFO] Creating full backup at: /home/Jobmanager/backups/jobmanager_backup_20250310_1653.zip
2025-03-10 16:53:25,054 [INFO] Adding file: /home/Jobmanager/run.py
2025-03-10 16:53:25,055 [INFO] Adding file: /home/Jobmanager/init_db.py
2025-03-10 16:53:25,055 [INFO] Adding file: /home/Jobmanager/gitback.sh
2025-03-10 16:53:25,055 [INFO] Adding to zip: app/db.py
2025-03-10 16:53:25,055 [INFO] Adding to zip: app/__init__.py
2025-03-10 16:53:25,056 [INFO] Adding to zip: app/schema.sql
2025-03-10 16:53:25,056 [INFO] Adding to zip: app/routes/image_routes.py
2025-03-10 16:53:25,057 [INFO] Adding to zip: app/routes/system_routes.py
2025-03-10 16:53:25,057 [INFO] Adding to zip: app/routes/__init__.py
2025-03-10 16:53:25,057 [INFO] Adding to zip: app/routes/customer_routes.py
2025-03-10 16:53:25,057 [INFO] Adding to zip: app/routes/job_routes.py
2025-03-10 16:53:25,058 [INFO] Adding to zip: app/routes/report_routes.py
2025-03-10 16:53:25,059 [INFO] Adding to zip: app/routes/timer_routes.py
2025-03-10 16:53:25,059 [INFO] Adding to zip: app/utils/date_helper.py
2025-03-10 16:53:25,059 [INFO] Adding to zip: app/utils/time_utils.py
2025-03-10 16:53:25,060 [INFO] Adding to zip: app/utils/job_utils.py
2025-03-10 16:53:25,060 [INFO] Adding to zip: app/utils/material_utils.py
2025-03-10 16:53:25,060 [INFO] Adding to zip: app/utils/timer_utils.py
2025-03-10 16:53:25,061 [INFO] Adding to zip: app/utils/__init__.py
2025-03-10 16:53:25,061 [INFO] Adding to zip: app/utils/invoice_utils.py
2025-03-10 16:53:25,061 [INFO] Adding to zip: app/utils/error_utils.py
2025-03-10 16:53:25,061 [INFO] Adding to zip: app/utils/image_utils.py
2025-03-10 16:53:25,062 [INFO] Adding to zip: app/templates/customer_form.html
2025-03-10 16:53:25,062 [INFO] Adding to zip: app/templates/quick_timer.html
2025-03-10 16:53:25,062 [INFO] Adding to zip: app/templates/system_settings.html
2025-03-10 16:53:25,063 [INFO] Adding to zip: app/templates/shared_images.html
2025-03-10 16:53:25,063 [INFO] Adding to zip: app/templates/weekly_summary.html
2025-03-10 16:53:25,063 [INFO] Adding to zip: app/templates/job_details.html
2025-03-10 16:53:25,064 [INFO] Adding to zip: app/templates/invoice.html
2025-03-10 16:53:25,065 [INFO] Adding to zip: app/templates/job_form.html
2025-03-10 16:53:25,065 [INFO] Adding to zip: app/templates/customer_list.html
2025-03-10 16:53:25,065 [INFO] Adding to zip: app/templates/500.html
2025-03-10 16:53:25,065 [INFO] Adding to zip: app/templates/base.html
2025-03-10 16:53:25,066 [INFO] Adding to zip: app/templates/job_list.html
2025-03-10 16:53:25,066 [INFO] Adding to zip: app/templates/404.html
2025-03-10 16:53:25,066 [INFO] Adding to zip: app/static/qr-quick_timer.svg
2025-03-10 16:53:25,067 [INFO] Adding to zip: app/static/css/styles.css
2025-03-10 16:53:25,068 [INFO] Full backup created at: /home/Jobmanager/backups/jobmanager_backup_20250310_1653.zip
2025-03-10 16:53:25,068 [INFO] Backup file exists: True
2025-03-10 16:59:00,069 [INFO] Root path: /home/Jobmanager
2025-03-10 16:59:00,069 [INFO] Current working directory: /home/Jobmanager
2025-03-10 16:59:00,069 [INFO] Instance path: /home/Jobmanager/instance
2025-03-10 16:59:00,069 [INFO] Creating full backup at: /home/Jobmanager/backups/jobmanager_backup_20250310_1659.zip
2025-03-10 16:59:00,069 [INFO] Adding file: /home/Jobmanager/run.py
2025-03-10 16:59:00,070 [INFO] Adding file: /home/Jobmanager/init_db.py
2025-03-10 16:59:00,070 [INFO] Adding file: /home/Jobmanager/gitback.sh
2025-03-10 16:59:00,071 [INFO] Adding to zip: app/db.py
2025-03-10 16:59:00,071 [INFO] Adding to zip: app/__init__.py
2025-03-10 16:59:00,071 [INFO] Adding to zip: app/schema.sql
2025-03-10 16:59:00,072 [INFO] Adding to zip: app/routes/image_routes.py
2025-03-10 16:59:00,072 [INFO] Adding to zip: app/routes/system_routes.py
2025-03-10 16:59:00,073 [INFO] Adding to zip: app/routes/__init__.py
2025-03-10 16:59:00,073 [INFO] Adding to zip: app/routes/customer_routes.py
2025-03-10 16:59:00,073 [INFO] Adding to zip: app/routes/job_routes.py
2025-03-10 16:59:00,074 [INFO] Adding to zip: app/routes/report_routes.py
2025-03-10 16:59:00,075 [INFO] Adding to zip: app/routes/timer_routes.py
2025-03-10 16:59:00,075 [INFO] Adding to zip: app/utils/date_helper.py
2025-03-10 16:59:00,075 [INFO] Adding to zip: app/utils/time_utils.py
2025-03-10 16:59:00,076 [INFO] Adding to zip: app/utils/job_utils.py
2025-03-10 16:59:00,076 [INFO] Adding to zip: app/utils/material_utils.py
2025-03-10 16:59:00,076 [INFO] Adding to zip: app/utils/timer_utils.py
2025-03-10 16:59:00,077 [INFO] Adding to zip: app/utils/__init__.py
2025-03-10 16:59:00,077 [INFO] Adding to zip: app/utils/invoice_utils.py
2025-03-10 16:59:00,077 [INFO] Adding to zip: app/utils/error_utils.py
2025-03-10 16:59:00,078 [INFO] Adding to zip: app/utils/image_utils.py
2025-03-10 16:59:00,078 [INFO] Adding to zip: app/templates/customer_form.html
2025-03-10 16:59:00,078 [INFO] Adding to zip: app/templates/quick_timer.html
2025-03-10 16:59:00,079 [INFO] Adding to zip: app/templates/system_settings.html
2025-03-10 16:59:00,079 [INFO] Adding to zip: app/templates/shared_images.html
2025-03-10 16:59:00,079 [INFO] Adding to zip: app/templates/weekly_summary.html
2025-03-10 16:59:00,080 [INFO] Adding to zip: app/templates/job_details.html
2025-03-10 16:59:00,081 [INFO] Adding to zip: app/templates/invoice.html
2025-03-10 16:59:00,081 [INFO] Adding to zip: app/templates/job_form.html
2025-03-10 16:59:00,082 [INFO] Adding to zip: app/templates/customer_list.html
2025-03-10 16:59:00,082 [INFO] Adding to zip: app/templates/500.html
2025-03-10 16:59:00,082 [INFO] Adding to zip: app/templates/base.html
2025-03-10 16:59:00,083 [INFO] Adding to zip: app/templates/job_list.html
2025-03-10 16:59:00,083 [INFO] Adding to zip: app/templates/404.html
2025-03-10 16:59:00,083 [INFO] Adding to zip: app/static/qr-quick_timer.svg
2025-03-10 16:59:00,084 [INFO] Adding to zip: app/static/css/styles.css
2025-03-10 16:59:00,085 [INFO] Full backup created at: /home/Jobmanager/backups/jobmanager_backup_20250310_1659.zip
2025-03-10 16:59:00,085 [INFO] Backup file exists: True
2025-03-10 16:59:05,450 [INFO] Root path: /home/Jobmanager
2025-03-10 16:59:05,450 [INFO] Current working directory: /home/Jobmanager
2025-03-10 16:59:05,450 [INFO] Instance path: /home/Jobmanager/instance
2025-03-10 16:59:05,450 [INFO] DB Path: /home/Jobmanager/instance/jobmanager.db
2025-03-10 16:59:05,450 [INFO] Backup Path: /home/Jobmanager/backups/db_backup_20250310_1659.db
2025-03-10 16:59:05,451 [INFO] Database backup created at: /home/Jobmanager/backups/db_backup_20250310_1659.db
2025-03-10 16:59:05,451 [INFO] Backup file exists: True
2025-03-10 17:09:38,185 [INFO] Root path: /home/Jobmanager
2025-03-10 17:09:38,186 [INFO] Current working directory: /home/Jobmanager
2025-03-10 17:09:38,186 [INFO] Instance path: /home/Jobmanager/instance
2025-03-10 17:09:38,186 [INFO] Creating full backup at: /home/Jobmanager/backups/jobmanager_backup_20250310_1709.zip
2025-03-10 17:09:38,186 [INFO] Adding file: /home/Jobmanager/run.py
2025-03-10 17:09:38,186 [INFO] Adding file: /home/Jobmanager/init_db.py
2025-03-10 17:09:38,187 [INFO] Adding file: /home/Jobmanager/gitback.sh
2025-03-10 17:09:38,187 [INFO] Adding to zip: app/db.py
2025-03-10 17:09:38,187 [INFO] Adding to zip: app/__init__.py
2025-03-10 17:09:38,188 [INFO] Adding to zip: app/schema.sql
2025-03-10 17:09:38,188 [INFO] Adding to zip: app/routes/image_routes.py
2025-03-10 17:09:38,188 [INFO] Adding to zip: app/routes/system_routes.py
2025-03-10 17:09:38,189 [INFO] Adding to zip: app/routes/__init__.py
2025-03-10 17:09:38,189 [INFO] Adding to zip: app/routes/customer_routes.py
2025-03-10 17:09:38,189 [INFO] Adding to zip: app/routes/job_routes.py
2025-03-10 17:09:38,190 [INFO] Adding to zip: app/routes/report_routes.py
2025-03-10 17:09:38,191 [INFO] Adding to zip: app/routes/timer_routes.py
2025-03-10 17:09:38,191 [INFO] Adding to zip: app/utils/date_helper.py
2025-03-10 17:09:38,191 [INFO] Adding to zip: app/utils/time_utils.py
2025-03-10 17:09:38,192 [INFO] Adding to zip: app/utils/job_utils.py
2025-03-10 17:09:38,192 [INFO] Adding to zip: app/utils/material_utils.py
2025-03-10 17:09:38,192 [INFO] Adding to zip: app/utils/timer_utils.py
2025-03-10 17:09:38,192 [INFO] Adding to zip: app/utils/__init__.py
2025-03-10 17:09:38,193 [INFO] Adding to zip: app/utils/invoice_utils.py
2025-03-10 17:09:38,193 [INFO] Adding to zip: app/utils/error_utils.py
2025-03-10 17:09:38,193 [INFO] Adding to zip: app/utils/image_utils.py
2025-03-10 17:09:38,193 [INFO] Adding to zip: app/templates/customer_form.html
2025-03-10 17:09:38,194 [INFO] Adding to zip: app/templates/quick_timer.html
2025-03-10 17:09:38,194 [INFO] Adding to zip: app/templates/system_settings.html
2025-03-10 17:09:38,194 [INFO] Adding to zip: app/templates/shared_images.html
2025-03-10 17:09:38,195 [INFO] Adding to zip: app/templates/weekly_summary.html
2025-03-10 17:09:38,195 [INFO] Adding to zip: app/templates/job_details.html
2025-03-10 17:09:38,196 [INFO] Adding to zip: app/templates/invoice.html
2025-03-10 17:09:38,197 [INFO] Adding to zip: app/templates/job_form.html
2025-03-10 17:09:38,197 [INFO] Adding to zip: app/templates/customer_list.html
2025-03-10 17:09:38,197 [INFO] Adding to zip: app/templates/500.html
2025-03-10 17:09:38,197 [INFO] Adding to zip: app/templates/base.html
2025-03-10 17:09:38,198 [INFO] Adding to zip: app/templates/job_list.html
2025-03-10 17:09:38,198 [INFO] Adding to zip: app/templates/404.html
2025-03-10 17:09:38,198 [INFO] Adding to zip: app/static/qr-quick_timer.svg
2025-03-10 17:09:38,199 [INFO] Adding to zip: app/static/css/styles.css
2025-03-10 17:09:38,200 [INFO] Full backup created at: /home/Jobmanager/backups/jobmanager_backup_20250310_1709.zip
2025-03-10 17:09:38,200 [INFO] Backup file exists: True
2025-03-10 17:10:42,040 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 17:10:42,040 [INFO] No week selected, using current week: 2025-W11
2025-03-10 17:10:42,040 [INFO] Fetching available weeks
2025-03-10 17:10:42,040 [INFO] Found 34 distinct dates with time entries
2025-03-10 17:10:42,040 [INFO] Processed 6 unique weeks
2025-03-10 17:10:42,040 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 17:10:42,041 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 17:11:24,329 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 17:11:24,329 [INFO] No week selected, using current week: 2025-W11
2025-03-10 17:11:24,329 [INFO] Fetching available weeks
2025-03-10 17:11:24,329 [INFO] Found 34 distinct dates with time entries
2025-03-10 17:11:24,329 [INFO] Processed 6 unique weeks
2025-03-10 17:11:24,330 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 17:11:24,330 [INFO] Found 4 time entries for week 2025-W11
2025-03-10 17:11:26,228 [INFO] Weekly summary request - selected_week: 2025-W11, show_all: True
2025-03-10 17:11:26,228 [INFO] Fetching available weeks
2025-03-10 17:11:26,228 [INFO] Found 34 distinct dates with time entries
2025-03-10 17:11:26,229 [INFO] Processed 6 unique weeks
2025-03-10 17:11:26,229 [INFO] Final view settings - selected_week: 2025-W11, show_all: True
2025-03-10 17:11:26,230 [INFO] Generated summary for 6 weeks
2025-03-10 17:18:22,831 [INFO] Starting timer for job 29
2025-03-10 17:18:22,831 [INFO] Stopping all active timers
2025-03-10 17:18:22,832 [INFO] Updating job 29 status from 'Pending' to 'Active'
2025-03-10 17:18:30,245 [INFO] Stopping timer for job 29
2025-03-10 18:38:41,545 [INFO] Starting timer for job 4
2025-03-10 18:38:41,545 [INFO] Stopping all active timers
2025-03-10 18:43:41,183 [INFO] Root path: /home/Jobmanager
2025-03-10 18:43:41,183 [INFO] Current working directory: /home/Jobmanager
2025-03-10 18:43:41,183 [INFO] Instance path: /home/Jobmanager/instance
2025-03-10 18:43:41,183 [INFO] Creating full backup at: /home/Jobmanager/backups/jobmanager_backup_20250310_1843.zip
2025-03-10 18:43:41,183 [INFO] Adding file: /home/Jobmanager/run.py
2025-03-10 18:43:41,184 [INFO] Adding file: /home/Jobmanager/init_db.py
2025-03-10 18:43:41,184 [INFO] Adding file: /home/Jobmanager/gitback.sh
2025-03-10 18:43:41,184 [INFO] Adding to zip: app/db.py
2025-03-10 18:43:41,185 [INFO] Adding to zip: app/__init__.py
2025-03-10 18:43:41,185 [INFO] Adding to zip: app/schema.sql
2025-03-10 18:43:41,186 [INFO] Adding to zip: app/routes/image_routes.py
2025-03-10 18:43:41,186 [INFO] Adding to zip: app/routes/system_routes.py
2025-03-10 18:43:41,187 [INFO] Adding to zip: app/routes/__init__.py
2025-03-10 18:43:41,187 [INFO] Adding to zip: app/routes/customer_routes.py
2025-03-10 18:43:41,187 [INFO] Adding to zip: app/routes/job_routes.py
2025-03-10 18:43:41,188 [INFO] Adding to zip: app/routes/report_routes.py
2025-03-10 18:43:41,189 [INFO] Adding to zip: app/routes/timer_routes.py
2025-03-10 18:43:41,189 [INFO] Adding to zip: app/utils/date_helper.py
2025-03-10 18:43:41,189 [INFO] Adding to zip: app/utils/time_utils.py
2025-03-10 18:43:41,190 [INFO] Adding to zip: app/utils/job_utils.py
2025-03-10 18:43:41,190 [INFO] Adding to zip: app/utils/material_utils.py
2025-03-10 18:43:41,190 [INFO] Adding to zip: app/utils/timer_utils.py
2025-03-10 18:43:41,191 [INFO] Adding to zip: app/utils/__init__.py
2025-03-10 18:43:41,191 [INFO] Adding to zip: app/utils/invoice_utils.py
2025-03-10 18:43:41,191 [INFO] Adding to zip: app/utils/error_utils.py
2025-03-10 18:43:41,192 [INFO] Adding to zip: app/utils/image_utils.py
2025-03-10 18:43:41,192 [INFO] Adding to zip: app/templates/customer_form.html
2025-03-10 18:43:41,192 [INFO] Adding to zip: app/templates/quick_timer.html
2025-03-10 18:43:41,193 [INFO] Adding to zip: app/templates/system_settings.html
2025-03-10 18:43:41,193 [INFO] Adding to zip: app/templates/shared_images.html
2025-03-10 18:43:41,194 [INFO] Adding to zip: app/templates/weekly_summary.html
2025-03-10 18:43:41,194 [INFO] Adding to zip: app/templates/job_details.html
2025-03-10 18:43:41,195 [INFO] Adding to zip: app/templates/invoice.html
2025-03-10 18:43:41,195 [INFO] Adding to zip: app/templates/job_form.html
2025-03-10 18:43:41,196 [INFO] Adding to zip: app/templates/customer_list.html
2025-03-10 18:43:41,196 [INFO] Adding to zip: app/templates/500.html
2025-03-10 18:43:41,197 [INFO] Adding to zip: app/templates/base.html
2025-03-10 18:43:41,197 [INFO] Adding to zip: app/templates/job_list.html
2025-03-10 18:43:41,197 [INFO] Adding to zip: app/templates/404.html
2025-03-10 18:43:41,198 [INFO] Adding to zip: app/static/qr-quick_timer.svg
2025-03-10 18:43:41,198 [INFO] Adding to zip: app/static/css/styles.css
2025-03-10 18:43:41,199 [INFO] Full backup created at: /home/Jobmanager/backups/jobmanager_backup_20250310_1843.zip
2025-03-10 18:43:41,199 [INFO] Backup file exists: True
2025-03-10 19:09:15,553 [INFO] User profile saved successfully
2025-03-10 19:09:15,553 [INFO] Created default user profile at /home/Jobmanager/instance/user_profile.json
2025-03-10 19:09:50,276 [ERROR] Exception on /job/4/invoice [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 521, in invoice
    return render_template('invoice.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 146, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/invoice.html", line 198, in template
    {% endif %}
jinja2.exceptions.TemplateSyntaxError: Unexpected end of template. Jinja was looking for the following tags: 'endblock'. The innermost block that needs to be closed is 'block'.
2025-03-10 19:09:53,182 [ERROR] Exception on /job/4/invoice [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 521, in invoice
    return render_template('invoice.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 146, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/invoice.html", line 198, in template
    {% endif %}
jinja2.exceptions.TemplateSyntaxError: Unexpected end of template. Jinja was looking for the following tags: 'endblock'. The innermost block that needs to be closed is 'block'.
2025-03-10 19:10:55,788 [INFO] User profile saved successfully
2025-03-10 19:11:04,180 [ERROR] Exception on /job/4/invoice [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 521, in invoice
    return render_template('invoice.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 146, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/invoice.html", line 198, in template
    {% endif %}
jinja2.exceptions.TemplateSyntaxError: Unexpected end of template. Jinja was looking for the following tags: 'endblock'. The innermost block that needs to be closed is 'block'.
2025-03-10 19:11:15,236 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 19:11:15,236 [INFO] No week selected, using current week: 2025-W11
2025-03-10 19:11:15,236 [INFO] Fetching available weeks
2025-03-10 19:11:15,237 [INFO] Found 34 distinct dates with time entries
2025-03-10 19:11:15,237 [INFO] Processed 6 unique weeks
2025-03-10 19:11:15,237 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 19:11:15,237 [INFO] Found 6 time entries for week 2025-W11
2025-03-10 19:11:26,124 [ERROR] Exception on /job/4/invoice [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 521, in invoice
    return render_template('invoice.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 146, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/invoice.html", line 198, in template
    {% endif %}
jinja2.exceptions.TemplateSyntaxError: Unexpected end of template. Jinja was looking for the following tags: 'endblock'. The innermost block that needs to be closed is 'block'.
2025-03-10 19:16:41,112 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 19:16:41,112 [INFO] No week selected, using current week: 2025-W11
2025-03-10 19:16:41,112 [INFO] Fetching available weeks
2025-03-10 19:16:41,113 [INFO] Found 34 distinct dates with time entries
2025-03-10 19:16:41,113 [INFO] Processed 6 unique weeks
2025-03-10 19:16:41,113 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 19:16:41,113 [INFO] Found 6 time entries for week 2025-W11
2025-03-10 19:16:53,194 [INFO] Root path: /home/Jobmanager
2025-03-10 19:16:53,194 [INFO] Current working directory: /home/Jobmanager
2025-03-10 19:16:53,194 [INFO] Instance path: /home/Jobmanager/instance
2025-03-10 19:16:53,194 [INFO] Creating full backup at: /home/Jobmanager/backups/jobmanager_backup_20250310_1916.zip
2025-03-10 19:16:53,194 [INFO] Adding file: /home/Jobmanager/run.py
2025-03-10 19:16:53,194 [INFO] Adding file: /home/Jobmanager/init_db.py
2025-03-10 19:16:53,195 [INFO] Adding to zip: app/db.py
2025-03-10 19:16:53,195 [INFO] Adding to zip: app/__init__.py
2025-03-10 19:16:53,195 [INFO] Adding to zip: app/schema.sql
2025-03-10 19:16:53,196 [INFO] Adding to zip: app/routes/image_routes.py
2025-03-10 19:16:53,196 [INFO] Adding to zip: app/routes/system_routes.py
2025-03-10 19:16:53,197 [INFO] Adding to zip: app/routes/__init__.py
2025-03-10 19:16:53,197 [INFO] Adding to zip: app/routes/customer_routes.py
2025-03-10 19:16:53,197 [INFO] Adding to zip: app/routes/job_routes.py
2025-03-10 19:16:53,198 [INFO] Adding to zip: app/routes/report_routes.py
2025-03-10 19:16:53,199 [INFO] Adding to zip: app/routes/timer_routes.py
2025-03-10 19:16:53,199 [INFO] Adding to zip: app/utils/date_helper.py
2025-03-10 19:16:53,199 [INFO] Adding to zip: app/utils/time_utils.py
2025-03-10 19:16:53,200 [INFO] Adding to zip: app/utils/job_utils.py
2025-03-10 19:16:53,200 [INFO] Adding to zip: app/utils/material_utils.py
2025-03-10 19:16:53,200 [INFO] Adding to zip: app/utils/timer_utils.py
2025-03-10 19:16:53,200 [INFO] Adding to zip: app/utils/__init__.py
2025-03-10 19:16:53,201 [INFO] Adding to zip: app/utils/invoice_utils.py
2025-03-10 19:16:53,201 [INFO] Adding to zip: app/utils/error_utils.py
2025-03-10 19:16:53,201 [INFO] Adding to zip: app/utils/profile_utils.py
2025-03-10 19:16:53,201 [INFO] Adding to zip: app/utils/image_utils.py
2025-03-10 19:16:53,202 [INFO] Adding to zip: app/templates/customer_form.html
2025-03-10 19:16:53,202 [INFO] Adding to zip: app/templates/quick_timer.html
2025-03-10 19:16:53,202 [INFO] Adding to zip: app/templates/system_settings.html
2025-03-10 19:16:53,203 [INFO] Adding to zip: app/templates/shared_images.html
2025-03-10 19:16:53,203 [INFO] Adding to zip: app/templates/weekly_summary.html
2025-03-10 19:16:53,204 [INFO] Adding to zip: app/templates/job_details.html
2025-03-10 19:16:53,204 [INFO] Adding to zip: app/templates/invoice.html
2025-03-10 19:16:53,205 [INFO] Adding to zip: app/templates/job_form.html
2025-03-10 19:16:53,205 [INFO] Adding to zip: app/templates/customer_list.html
2025-03-10 19:16:53,206 [INFO] Adding to zip: app/templates/500.html
2025-03-10 19:16:53,206 [INFO] Adding to zip: app/templates/base.html
2025-03-10 19:16:53,206 [INFO] Adding to zip: app/templates/profile_settings.html
2025-03-10 19:16:53,207 [INFO] Adding to zip: app/templates/job_list.html
2025-03-10 19:16:53,207 [INFO] Adding to zip: app/templates/404.html
2025-03-10 19:16:53,207 [INFO] Adding to zip: app/static/qr-quick_timer.svg
2025-03-10 19:16:53,208 [INFO] Adding to zip: app/static/css/styles.css
2025-03-10 19:16:53,208 [INFO] Adding to zip: instance/user_profile.json
2025-03-10 19:16:53,209 [INFO] Full backup created at: /home/Jobmanager/backups/jobmanager_backup_20250310_1916.zip
2025-03-10 19:16:53,209 [INFO] Backup file exists: True
2025-03-10 19:17:03,886 [INFO] Time synchronized with NTP servers
2025-03-10 19:23:41,890 [INFO] Root path: /home/Jobmanager
2025-03-10 19:23:41,890 [INFO] Current working directory: /home/Jobmanager
2025-03-10 19:23:41,890 [INFO] Instance path: /home/Jobmanager/instance
2025-03-10 19:23:41,890 [INFO] DB Path: /home/Jobmanager/instance/jobmanager.db
2025-03-10 19:23:41,890 [INFO] Backup Path: /home/Jobmanager/backups/db_backup_20250310_1923.db
2025-03-10 19:23:41,891 [INFO] Database backup created at: /home/Jobmanager/backups/db_backup_20250310_1923.db
2025-03-10 19:23:41,891 [INFO] Backup file exists: True
2025-03-10 19:23:46,266 [INFO] Root path: /home/Jobmanager
2025-03-10 19:23:46,266 [INFO] Current working directory: /home/Jobmanager
2025-03-10 19:23:46,266 [INFO] Instance path: /home/Jobmanager/instance
2025-03-10 19:23:46,266 [INFO] Creating full backup at: /home/Jobmanager/backups/jobmanager_backup_20250310_1923.zip
2025-03-10 19:23:46,266 [INFO] Adding file: /home/Jobmanager/run.py
2025-03-10 19:23:46,267 [INFO] Adding file: /home/Jobmanager/init_db.py
2025-03-10 19:23:46,267 [INFO] Adding to zip: app/db.py
2025-03-10 19:23:46,267 [INFO] Adding to zip: app/__init__.py
2025-03-10 19:23:46,268 [INFO] Adding to zip: app/schema.sql
2025-03-10 19:23:46,268 [INFO] Adding to zip: app/routes/image_routes.py
2025-03-10 19:23:46,269 [INFO] Adding to zip: app/routes/system_routes.py
2025-03-10 19:23:46,269 [INFO] Adding to zip: app/routes/__init__.py
2025-03-10 19:23:46,269 [INFO] Adding to zip: app/routes/customer_routes.py
2025-03-10 19:23:46,270 [INFO] Adding to zip: app/routes/job_routes.py
2025-03-10 19:23:46,270 [INFO] Adding to zip: app/routes/report_routes.py
2025-03-10 19:23:46,271 [INFO] Adding to zip: app/routes/timer_routes.py
2025-03-10 19:23:46,271 [INFO] Adding to zip: app/utils/date_helper.py
2025-03-10 19:23:46,272 [INFO] Adding to zip: app/utils/time_utils.py
2025-03-10 19:23:46,272 [INFO] Adding to zip: app/utils/job_utils.py
2025-03-10 19:23:46,272 [INFO] Adding to zip: app/utils/material_utils.py
2025-03-10 19:23:46,272 [INFO] Adding to zip: app/utils/timer_utils.py
2025-03-10 19:23:46,273 [INFO] Adding to zip: app/utils/__init__.py
2025-03-10 19:23:46,273 [INFO] Adding to zip: app/utils/invoice_utils.py
2025-03-10 19:23:46,273 [INFO] Adding to zip: app/utils/error_utils.py
2025-03-10 19:23:46,273 [INFO] Adding to zip: app/utils/profile_utils.py
2025-03-10 19:23:46,274 [INFO] Adding to zip: app/utils/image_utils.py
2025-03-10 19:23:46,274 [INFO] Adding to zip: app/templates/customer_form.html
2025-03-10 19:23:46,274 [INFO] Adding to zip: app/templates/quick_timer.html
2025-03-10 19:23:46,275 [INFO] Adding to zip: app/templates/system_settings.html
2025-03-10 19:23:46,275 [INFO] Adding to zip: app/templates/shared_images.html
2025-03-10 19:23:46,275 [INFO] Adding to zip: app/templates/weekly_summary.html
2025-03-10 19:23:46,276 [INFO] Adding to zip: app/templates/job_details.html
2025-03-10 19:23:46,277 [INFO] Adding to zip: app/templates/invoice.html
2025-03-10 19:23:46,277 [INFO] Adding to zip: app/templates/job_form.html
2025-03-10 19:23:46,278 [INFO] Adding to zip: app/templates/customer_list.html
2025-03-10 19:23:46,278 [INFO] Adding to zip: app/templates/500.html
2025-03-10 19:23:46,278 [INFO] Adding to zip: app/templates/base.html
2025-03-10 19:23:46,279 [INFO] Adding to zip: app/templates/profile_settings.html
2025-03-10 19:23:46,279 [INFO] Adding to zip: app/templates/job_list.html
2025-03-10 19:23:46,279 [INFO] Adding to zip: app/templates/404.html
2025-03-10 19:23:46,280 [INFO] Adding to zip: app/static/qr-quick_timer.svg
2025-03-10 19:23:46,280 [INFO] Adding to zip: app/static/css/styles.css
2025-03-10 19:23:46,281 [INFO] Adding to zip: instance/user_profile.json
2025-03-10 19:23:46,281 [INFO] Full backup created at: /home/Jobmanager/backups/jobmanager_backup_20250310_1923.zip
2025-03-10 19:23:46,281 [INFO] Backup file exists: True
2025-03-10 19:23:48,521 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 19:23:48,521 [INFO] No week selected, using current week: 2025-W11
2025-03-10 19:23:48,521 [INFO] Fetching available weeks
2025-03-10 19:23:48,521 [INFO] Found 34 distinct dates with time entries
2025-03-10 19:23:48,521 [INFO] Processed 6 unique weeks
2025-03-10 19:23:48,521 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 19:23:48,522 [INFO] Found 6 time entries for week 2025-W11
2025-03-10 19:23:57,405 [INFO] Weekly summary request - selected_week: 2025-W10, show_all: False
2025-03-10 19:23:57,405 [INFO] Fetching available weeks
2025-03-10 19:23:57,406 [INFO] Found 34 distinct dates with time entries
2025-03-10 19:23:57,406 [INFO] Processed 6 unique weeks
2025-03-10 19:23:57,406 [INFO] Week selected from dropdown: 2025-W10, setting show_all=False
2025-03-10 19:23:57,406 [INFO] Final view settings - selected_week: 2025-W10, show_all: False
2025-03-10 19:23:57,406 [INFO] Found 23 time entries for week 2025-W10
2025-03-10 19:26:04,268 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-10 19:26:04,269 [INFO] No week selected, using current week: 2025-W11
2025-03-10 19:26:04,269 [INFO] Fetching available weeks
2025-03-10 19:26:04,269 [INFO] Found 34 distinct dates with time entries
2025-03-10 19:26:04,269 [INFO] Processed 6 unique weeks
2025-03-10 19:26:04,269 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-10 19:26:04,269 [INFO] Found 6 time entries for week 2025-W11
2025-03-10 21:03:17,410 [ERROR] Exception on /apple-touch-icon-precomposed.png [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1785, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1767, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/ctx.py", line 351, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/routing/map.py", line 624, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1666, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1606, in handle_http_exception
    return self.ensure_sync(handler)(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/__init__.py", line 93, in page_not_found
    return app.render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'render_template'
2025-03-10 21:03:17,410 [ERROR] Exception on /apple-touch-icon.png [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1785, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1767, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/ctx.py", line 351, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/routing/map.py", line 624, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1666, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1606, in handle_http_exception
    return self.ensure_sync(handler)(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/__init__.py", line 93, in page_not_found
    return app.render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'render_template'
2025-03-10 21:03:17,417 [ERROR] Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1785, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1767, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/ctx.py", line 351, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/routing/map.py", line 624, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1666, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1606, in handle_http_exception
    return self.ensure_sync(handler)(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/__init__.py", line 93, in page_not_found
    return app.render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'render_template'
2025-03-10 21:03:17,422 [ERROR] Exception on /apple-touch-icon-precomposed.png [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1785, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1767, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/ctx.py", line 351, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/routing/map.py", line 624, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1666, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1606, in handle_http_exception
    return self.ensure_sync(handler)(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/__init__.py", line 93, in page_not_found
    return app.render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'render_template'
2025-03-10 21:03:17,423 [ERROR] Exception on /apple-touch-icon.png [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1785, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1767, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/ctx.py", line 351, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/routing/map.py", line 624, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1666, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1606, in handle_http_exception
    return self.ensure_sync(handler)(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/__init__.py", line 93, in page_not_found
    return app.render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'render_template'
2025-03-10 21:03:17,424 [ERROR] Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1785, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1767, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/ctx.py", line 351, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/routing/map.py", line 624, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1666, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1606, in handle_http_exception
    return self.ensure_sync(handler)(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/__init__.py", line 93, in page_not_found
    return app.render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'render_template'
2025-03-11 07:53:48,678 [INFO] Starting timer for job 28
2025-03-11 07:53:48,678 [INFO] Stopping all active timers
2025-03-11 09:10:55,396 [INFO] Stopping timer for job 28
2025-03-11 09:46:06,755 [INFO] Starting timer for job 28
2025-03-11 09:46:06,755 [INFO] Stopping all active timers
2025-03-11 09:57:51,286 [INFO] Starting timer for job 4
2025-03-11 09:57:51,287 [INFO] Stopping all active timers
2025-03-11 10:02:18,173 [INFO] Stopping timer for job 4
2025-03-11 10:02:20,269 [INFO] Starting timer for job 4
2025-03-11 10:02:20,270 [INFO] Stopping all active timers
2025-03-11 10:51:46,980 [ERROR] Exception on /job/details/4 [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 349, in job_details
    return render_template('job_details.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 147, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 130, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/job_details.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/Jobmanager/app/templates/base.html", line 42, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/templates/job_details.html", line 321, in block 'content'
    <img src="{{ url_for('image.serve_image', job_id=job.id, filename=image.filename, thumbnail=true) }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2031, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2020, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/routing/map.py", line 917, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'image.serve_image' with values ['filename', 'job_id', 'thumbnail']. Did you mean 'image.serve_file' instead?
2025-03-11 10:51:49,992 [ERROR] Exception on /job/details/4 [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 349, in job_details
    return render_template('job_details.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 147, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 130, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/job_details.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/Jobmanager/app/templates/base.html", line 42, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/templates/job_details.html", line 321, in block 'content'
    <img src="{{ url_for('image.serve_image', job_id=job.id, filename=image.filename, thumbnail=true) }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2031, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2020, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/routing/map.py", line 917, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'image.serve_image' with values ['filename', 'job_id', 'thumbnail']. Did you mean 'image.serve_file' instead?
2025-03-11 10:51:53,413 [ERROR] Exception on /job/details/4 [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 349, in job_details
    return render_template('job_details.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 147, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 130, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/job_details.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/Jobmanager/app/templates/base.html", line 42, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/templates/job_details.html", line 321, in block 'content'
    <img src="{{ url_for('image.serve_image', job_id=job.id, filename=image.filename, thumbnail=true) }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2031, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2020, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/routing/map.py", line 917, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'image.serve_image' with values ['filename', 'job_id', 'thumbnail']. Did you mean 'image.serve_file' instead?
2025-03-11 10:51:58,255 [ERROR] Exception on /job/details/28 [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 349, in job_details
    return render_template('job_details.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 147, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 130, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/job_details.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/Jobmanager/app/templates/base.html", line 42, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/templates/job_details.html", line 321, in block 'content'
    <img src="{{ url_for('image.serve_image', job_id=job.id, filename=image.filename, thumbnail=true) }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2031, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2020, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/routing/map.py", line 917, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'image.serve_image' with values ['filename', 'job_id', 'thumbnail']. Did you mean 'image.serve_file' instead?
2025-03-11 10:52:00,488 [ERROR] Exception on /job/details/28 [GET]
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2525, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1822, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/db.py", line 31, in decorated_function
    return f(db, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/routes/job_routes.py", line 349, in job_details
    return render_template('job_details.html',
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 147, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/templating.py", line 130, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/Jobmanager/app/templates/job_details.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/Jobmanager/app/templates/base.html", line 42, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/Jobmanager/app/templates/job_details.html", line 321, in block 'content'
    <img src="{{ url_for('image.serve_image', job_id=job.id, filename=image.filename, thumbnail=true) }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2031, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 2020, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/routing/map.py", line 917, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'image.serve_image' with values ['filename', 'job_id', 'thumbnail']. Did you mean 'image.serve_file' instead?
2025-03-11 10:59:20,040 [INFO] Deleting image job28-2503111059.jpg (ID: 56) from job 28
2025-03-11 10:59:20,041 [INFO] Deleted main image file: /home/Jobmanager/instance/images/job_28/job28-2503111059.jpg
2025-03-11 10:59:20,041 [INFO] Deleted thumbnail file: /home/Jobmanager/instance/images/job_28/thumbnails/job28-2503111059.jpg
2025-03-11 10:59:20,145 [INFO] Deleted image record from database: 56
2025-03-11 10:59:58,718 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-11 10:59:58,718 [INFO] No week selected, using current week: 2025-W11
2025-03-11 10:59:58,718 [INFO] Fetching available weeks
2025-03-11 10:59:58,719 [INFO] Found 35 distinct dates with time entries
2025-03-11 10:59:58,719 [INFO] Processed 6 unique weeks
2025-03-11 10:59:58,719 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-11 10:59:58,720 [INFO] Found 10 time entries for week 2025-W11
2025-03-11 11:01:25,053 [INFO] Stopping timer for job 4
2025-03-11 11:01:27,163 [INFO] Starting timer for job 28
2025-03-11 11:01:27,163 [INFO] Stopping all active timers
2025-03-11 11:01:40,301 [INFO] Root path: /home/Jobmanager
2025-03-11 11:01:40,301 [INFO] Current working directory: /home/Jobmanager
2025-03-11 11:01:40,301 [INFO] Instance path: /home/Jobmanager/instance
2025-03-11 11:01:40,301 [INFO] Creating full backup at: /home/Jobmanager/backups/jobmanager_backup_20250311_1101.zip
2025-03-11 11:01:40,301 [INFO] Adding file: /home/Jobmanager/run.py
2025-03-11 11:01:40,302 [INFO] Adding file: /home/Jobmanager/init_db.py
2025-03-11 11:01:40,302 [INFO] Adding to zip: app/db.py
2025-03-11 11:01:40,302 [INFO] Adding to zip: app/__init__.py
2025-03-11 11:01:40,303 [INFO] Adding to zip: app/schema.sql
2025-03-11 11:01:40,303 [INFO] Adding to zip: app/routes/image_routes.py
2025-03-11 11:01:40,304 [INFO] Adding to zip: app/routes/system_routes.py
2025-03-11 11:01:40,304 [INFO] Adding to zip: app/routes/__init__.py
2025-03-11 11:01:40,304 [INFO] Adding to zip: app/routes/customer_routes.py
2025-03-11 11:01:40,305 [INFO] Adding to zip: app/routes/job_routes.py
2025-03-11 11:01:40,305 [INFO] Adding to zip: app/routes/report_routes.py
2025-03-11 11:01:40,306 [INFO] Adding to zip: app/routes/timer_routes.py
2025-03-11 11:01:40,306 [INFO] Adding to zip: app/utils/date_helper.py
2025-03-11 11:01:40,307 [INFO] Adding to zip: app/utils/time_utils.py
2025-03-11 11:01:40,307 [INFO] Adding to zip: app/utils/job_utils.py
2025-03-11 11:01:40,307 [INFO] Adding to zip: app/utils/material_utils.py
2025-03-11 11:01:40,307 [INFO] Adding to zip: app/utils/timer_utils.py
2025-03-11 11:01:40,308 [INFO] Adding to zip: app/utils/__init__.py
2025-03-11 11:01:40,308 [INFO] Adding to zip: app/utils/invoice_utils.py
2025-03-11 11:01:40,308 [INFO] Adding to zip: app/utils/error_utils.py
2025-03-11 11:01:40,308 [INFO] Adding to zip: app/utils/profile_utils.py
2025-03-11 11:01:40,309 [INFO] Adding to zip: app/utils/image_utils.py
2025-03-11 11:01:40,309 [INFO] Adding to zip: app/templates/customer_form.html
2025-03-11 11:01:40,309 [INFO] Adding to zip: app/templates/quick_timer.html
2025-03-11 11:01:40,310 [INFO] Adding to zip: app/templates/system_settings.html
2025-03-11 11:01:40,310 [INFO] Adding to zip: app/templates/shared_images.html
2025-03-11 11:01:40,310 [INFO] Adding to zip: app/templates/weekly_summary.html
2025-03-11 11:01:40,311 [INFO] Adding to zip: app/templates/job_details.html
2025-03-11 11:01:40,312 [INFO] Adding to zip: app/templates/invoice.html
2025-03-11 11:01:40,312 [INFO] Adding to zip: app/templates/job_form.html
2025-03-11 11:01:40,313 [INFO] Adding to zip: app/templates/customer_list.html
2025-03-11 11:01:40,313 [INFO] Adding to zip: app/templates/500.html
2025-03-11 11:01:40,313 [INFO] Adding to zip: app/templates/base.html
2025-03-11 11:01:40,313 [INFO] Adding to zip: app/templates/profile_settings.html
2025-03-11 11:01:40,314 [INFO] Adding to zip: app/templates/job_list.html
2025-03-11 11:01:40,314 [INFO] Adding to zip: app/templates/404.html
2025-03-11 11:01:40,314 [INFO] Adding to zip: app/static/qr-quick_timer.svg
2025-03-11 11:01:40,315 [INFO] Adding to zip: app/static/css/styles.css
2025-03-11 11:01:40,315 [INFO] Adding to zip: instance/user_profile.json
2025-03-11 11:01:40,316 [INFO] Full backup created at: /home/Jobmanager/backups/jobmanager_backup_20250311_1101.zip
2025-03-11 11:01:40,316 [INFO] Backup file exists: True
2025-03-11 11:07:28,539 [INFO] Deleting image doc_2503111107.pdf (ID: 57) from job 28
2025-03-11 11:07:28,540 [INFO] Deleted PDF file: /home/Jobmanager/instance/images/job_28/doc_2503111107.pdf
2025-03-11 11:07:28,724 [INFO] Deleted image record from database: 57
2025-03-11 11:45:22,548 [INFO] Stopping timer for job 4
2025-03-11 11:45:25,185 [INFO] Stopping timer for job 28
2025-03-11 12:24:32,677 [INFO] Starting timer for job 28
2025-03-11 12:24:32,677 [INFO] Stopping all active timers
2025-03-11 12:29:11,026 [INFO] Starting timer for job 4
2025-03-11 12:29:11,026 [INFO] Stopping all active timers
2025-03-11 12:29:24,287 [INFO] Deleting image 25-2503111051.jpg (ID: 55) from job 4
2025-03-11 12:29:24,287 [INFO] Deleted main image file: /home/Jobmanager/instance/images/job_4/25-2503111051.jpg
2025-03-11 12:29:24,287 [INFO] Deleted thumbnail file: /home/Jobmanager/instance/images/job_4/thumbnails/25-2503111051.jpg
2025-03-11 12:29:24,400 [INFO] Deleted image record from database: 55
2025-03-11 12:29:42,844 [INFO] Weekly summary request - selected_week: None, show_all: False
2025-03-11 12:29:42,844 [INFO] No week selected, using current week: 2025-W11
2025-03-11 12:29:42,844 [INFO] Fetching available weeks
2025-03-11 12:29:42,845 [INFO] Found 35 distinct dates with time entries
2025-03-11 12:29:42,845 [INFO] Processed 6 unique weeks
2025-03-11 12:29:42,845 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-11 12:29:42,846 [INFO] Found 13 time entries for week 2025-W11
2025-03-11 12:29:45,797 [INFO] Weekly summary request - selected_week: 2025-W11, show_all: True
2025-03-11 12:29:45,797 [INFO] Fetching available weeks
2025-03-11 12:29:45,798 [INFO] Found 35 distinct dates with time entries
2025-03-11 12:29:45,798 [INFO] Processed 6 unique weeks
2025-03-11 12:29:45,798 [INFO] Final view settings - selected_week: 2025-W11, show_all: True
2025-03-11 12:29:45,799 [INFO] Generated summary for 6 weeks
2025-03-11 12:33:15,276 [INFO] Weekly summary request - selected_week: 2025-W11, show_all: True
2025-03-11 12:33:15,276 [INFO] Fetching available weeks
2025-03-11 12:33:15,277 [INFO] Found 35 distinct dates with time entries
2025-03-11 12:33:15,277 [INFO] Processed 6 unique weeks
2025-03-11 12:33:15,277 [INFO] Final view settings - selected_week: 2025-W11, show_all: True
2025-03-11 12:33:15,278 [INFO] Generated summary for 6 weeks
2025-03-11 12:33:49,929 [INFO] Weekly summary request - selected_week: 2025-W11, show_all: True
2025-03-11 12:33:49,929 [INFO] Fetching available weeks
2025-03-11 12:33:49,929 [INFO] Found 35 distinct dates with time entries
2025-03-11 12:33:49,929 [INFO] Processed 6 unique weeks
2025-03-11 12:33:49,930 [INFO] Final view settings - selected_week: 2025-W11, show_all: True
2025-03-11 12:33:49,931 [INFO] Generated summary for 6 weeks
2025-03-11 12:36:12,979 [INFO] Weekly summary request - selected_week: 2025-W11, show_all: True
2025-03-11 12:36:12,979 [INFO] Fetching available weeks
2025-03-11 12:36:12,980 [INFO] Found 35 distinct dates with time entries
2025-03-11 12:36:12,980 [INFO] Processed 6 unique weeks
2025-03-11 12:36:12,980 [INFO] Final view settings - selected_week: 2025-W11, show_all: True
2025-03-11 12:36:12,981 [INFO] Generated summary for 6 weeks
2025-03-11 12:36:23,841 [INFO] Weekly summary request - selected_week: 2025-W11, show_all: False
2025-03-11 12:36:23,841 [INFO] Fetching available weeks
2025-03-11 12:36:23,842 [INFO] Found 35 distinct dates with time entries
2025-03-11 12:36:23,842 [INFO] Processed 6 unique weeks
2025-03-11 12:36:23,842 [INFO] Final view settings - selected_week: 2025-W11, show_all: False
2025-03-11 12:36:23,842 [INFO] Found 13 time entries for week 2025-W11
2025-03-11 12:41:04,621 [INFO] Root path: /home/Jobmanager
2025-03-11 12:41:04,621 [INFO] Current working directory: /home/Jobmanager
2025-03-11 12:41:04,621 [INFO] Instance path: /home/Jobmanager/instance
2025-03-11 12:41:04,621 [INFO] Creating full backup at: /home/Jobmanager/backups/jobmanager_backup_20250311_1241.zip
2025-03-11 12:41:04,622 [INFO] Adding file: /home/Jobmanager/run.py
2025-03-11 12:41:04,622 [INFO] Adding file: /home/Jobmanager/init_db.py
2025-03-11 12:41:04,622 [INFO] Adding to zip: app/db.py
2025-03-11 12:41:04,623 [INFO] Adding to zip: app/__init__.py
2025-03-11 12:41:04,623 [INFO] Adding to zip: app/schema.sql
2025-03-11 12:41:04,623 [INFO] Adding to zip: app/routes/image_routes.py
2025-03-11 12:41:04,624 [INFO] Adding to zip: app/routes/system_routes.py
2025-03-11 12:41:04,624 [INFO] Adding to zip: app/routes/__init__.py
2025-03-11 12:41:04,624 [INFO] Adding to zip: app/routes/customer_routes.py
2025-03-11 12:41:04,625 [INFO] Adding to zip: app/routes/job_routes.py
2025-03-11 12:41:04,625 [INFO] Adding to zip: app/routes/report_routes.py
2025-03-11 12:41:04,626 [INFO] Adding to zip: app/routes/timer_routes.py
2025-03-11 12:41:04,626 [INFO] Adding to zip: app/utils/date_helper.py
2025-03-11 12:41:04,627 [INFO] Adding to zip: app/utils/time_utils.py
2025-03-11 12:41:04,627 [INFO] Adding to zip: app/utils/job_utils.py
2025-03-11 12:41:04,627 [INFO] Adding to zip: app/utils/material_utils.py
2025-03-11 12:41:04,627 [INFO] Adding to zip: app/utils/timer_utils.py
2025-03-11 12:41:04,628 [INFO] Adding to zip: app/utils/__init__.py
2025-03-11 12:41:04,628 [INFO] Adding to zip: app/utils/invoice_utils.py
2025-03-11 12:41:04,628 [INFO] Adding to zip: app/utils/error_utils.py
2025-03-11 12:41:04,628 [INFO] Adding to zip: app/utils/profile_utils.py
2025-03-11 12:41:04,629 [INFO] Adding to zip: app/utils/image_utils.py
2025-03-11 12:41:04,629 [INFO] Adding to zip: app/templates/customer_form.html
2025-03-11 12:41:04,629 [INFO] Adding to zip: app/templates/quick_timer.html
2025-03-11 12:41:04,630 [INFO] Adding to zip: app/templates/system_settings.html
2025-03-11 12:41:04,630 [INFO] Adding to zip: app/templates/shared_images.html
2025-03-11 12:41:04,630 [INFO] Adding to zip: app/templates/weekly_summary.html
2025-03-11 12:41:04,631 [INFO] Adding to zip: app/templates/job_details.html
2025-03-11 12:41:04,632 [INFO] Adding to zip: app/templates/invoice.html
2025-03-11 12:41:04,632 [INFO] Adding to zip: app/templates/job_form.html
2025-03-11 12:41:04,633 [INFO] Adding to zip: app/templates/customer_list.html
2025-03-11 12:41:04,633 [INFO] Adding to zip: app/templates/500.html
2025-03-11 12:41:04,633 [INFO] Adding to zip: app/templates/base.html
2025-03-11 12:41:04,633 [INFO] Adding to zip: app/templates/profile_settings.html
2025-03-11 12:41:04,634 [INFO] Adding to zip: app/templates/job_list.html
2025-03-11 12:41:04,634 [INFO] Adding to zip: app/templates/404.html
2025-03-11 12:41:04,634 [INFO] Adding to zip: app/static/qr-quick_timer.svg
2025-03-11 12:41:04,635 [INFO] Adding to zip: app/static/css/styles.css
2025-03-11 12:41:04,635 [INFO] Adding to zip: instance/user_profile.json
2025-03-11 12:41:04,636 [INFO] Full backup created at: /home/Jobmanager/backups/jobmanager_backup_20250311_1241.zip
2025-03-11 12:41:04,636 [INFO] Backup file exists: True
